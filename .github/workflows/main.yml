<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á ‚Äî Demo</title>
  <style>
    :root{
      --bg:#0f172a; /* slate-900 */
      --panel:#111827; /* gray-900 */
      --card:#1f2937; /* gray-800 */
      --muted:#94a3b8; /* slate-400 */
      --text:#e5e7eb; /* gray-200 */
      --brand:#22c55e; /* green-500 */
      --brand-2:#06b6d4; /* cyan-500 */
      --danger:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(120deg,var(--bg),#0b1026);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    a{color:inherit}
    .container{max-width:1200px;margin-inline:auto;padding:24px}
    header{position:sticky;top:0;background:rgba(15,23,42,.7);backdrop-filter:blur(10px);z-index:10;border-bottom:1px solid #1f2937}
    .nav{display:flex;align-items:center;gap:16px;padding:12px 24px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.3px}
    .brand .logo{width:36px;height:36px;border-radius:12px;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:white;font-weight:900}
    .spacer{flex:1}
    .btn{border:0;border-radius:14px;padding:10px 14px;background:#2a364d;color:var(--text);cursor:pointer;transition:.2s}
    .btn:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(0,0,0,.25)}
    .btn.primary{background:linear-gradient(135deg,var(--brand-2),var(--brand))}
    .btn.icon{display:flex;align-items:center;gap:8px}

    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:24px;align-items:center;margin-top:16px}
    .hero-card{background:radial-gradient(1200px 400px at 10% 0%,rgba(6,182,212,.25),transparent),radial-gradient(900px 400px at 100% 30%,rgba(34,197,94,.2),transparent),var(--panel);border:1px solid #1f2937;border-radius:20px;padding:24px}
    .hero h1{margin:0 0 8px 0;font-size:clamp(24px,3vw,44px)}
    .hero p{margin:0;color:var(--muted)}

    .controls{display:flex;flex-wrap:wrap;gap:10px;margin-top:16px}
    .search{position:relative;flex:1;min-width:220px}
    .search input{width:100%;padding:12px 16px 12px 44px;border-radius:14px;border:1px solid #334155;background:#0b1329;color:var(--text)}
    .search .icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);opacity:.6}
    .chips{display:flex;gap:10px;flex-wrap:wrap}
    .chip{padding:8px 12px;border:1px solid #334155;border-radius:999px;background:#0b1329;color:var(--text);cursor:pointer;font-size:14px}
    .chip.active{background:linear-gradient(135deg,#0ea5e9,#22c55e);border-color:transparent}

    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:20px}
    @media (max-width:1000px){.grid{grid-template-columns:repeat(3,1fr)}.hero{grid-template-columns:1fr}}
    @media (max-width:700px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:480px){.grid{grid-template-columns:1fr}}

    .card{background:linear-gradient(180deg,#0b1329, #0a1022);border:1px solid #1f2937;border-radius:18px;overflow:hidden;display:flex;flex-direction:column}
    .thumb{aspect-ratio:16/11;background:#0a0f22;display:block}
    .thumb img{width:100%;height:100%;object-fit:cover}
    .card-body{padding:14px;display:flex;flex-direction:column;gap:10px}
    .title{font-weight:600}
    .price{font-size:18px}
    .muted{color:var(--muted);font-size:14px}
    .qty{display:flex;align-items:center;gap:8px}
    .qty button{width:28px;height:28px;border-radius:8px;border:1px solid #334155;background:#0b1329;color:var(--text);cursor:pointer}

    /* Cart */
    .cart-toggle{position:fixed;right:16px;bottom:16px;z-index:20}
    .cart-panel{position:fixed;inset:0 0 0 auto;width:min(420px,100%);background:rgba(15,23,42,.96);border-left:1px solid #1f2937;transform:translateX(100%);transition:.25s ease;z-index:30;display:flex;flex-direction:column}
    .cart-panel.open{transform:translateX(0)}
    .cart-head{display:flex;align-items:center;gap:10px;padding:16px 16px;border-bottom:1px solid #1f2937}
    .cart-items{padding:10px 14px;overflow:auto;flex:1}
    .cart-item{display:grid;grid-template-columns:56px 1fr auto;gap:12px;align-items:center;padding:8px 0;border-bottom:1px dashed #1f2937}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:10px}
    .cart-foot{border-top:1px solid #1f2937;padding:14px;display:grid;gap:10px}
    .row{display:flex;justify-content:space-between}
    .total{font-size:20px;font-weight:700}
    .empty{opacity:.7;text-align:center;padding:18px}
    .danger{color:var(--danger)}

    footer{margin:40px 0 20px;color:#8392a9;text-align:center}
    .linklike{cursor:pointer;text-decoration:underline}
  </style>
</head>
<body>
  <header>
    <div class="nav container">
      <div class="brand"><div class="logo">‡∏ø</div> ‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á</div>
      <div class="spacer"></div>
      <button class="btn icon" id="openCartBtn" aria-label="‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (<span id="cartCount">0</span>)</button>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <div class="hero-card">
        <h1>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤</h1>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡πÅ‡∏•‡∏∞‡∏´‡∏¢‡∏¥‡∏ö‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏î‡πÇ‡∏°‡∏ù‡∏±‡πà‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (HTML/CSS/JS ‡∏•‡πâ‡∏ß‡∏ô ‡πÜ)</p>
        <div class="controls" style="margin-top:16px">
          <div class="search">
            <span class="icon">üîé</span>
            <input id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‚Ä¶ (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏™‡∏∑‡πâ‡∏≠, ‡∏´‡∏°‡∏ß‡∏Å, ‡πÅ‡∏Å‡πâ‡∏ß)" />
          </div>
          <div class="chips" id="categoryChips"></div>
          <button class="btn" id="resetFilters">‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</button>
        </div>
      </div>
      <div class="hero-card">
        <h3 style="margin:0 0 6px 0">‡πÑ‡∏Æ‡πÑ‡∏•‡∏ó‡πå</h3>
        <p class="muted">‚Ä¢ ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà ‚Ä¢ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‚Ä¢ ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ‚Ä¢ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢ LocalStorage ‚Ä¢ ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
        <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
          <button class="btn primary" id="viewFeatured">‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</button>
          <button class="btn" id="viewAll">‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
        </div>
      </div>
    </section>

    <section>
      <div class="grid" id="productGrid"></div>
    </section>

    <button class="btn primary cart-toggle" id="fabCart">üõí ‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>

    <aside class="cart-panel" id="cartPanel" aria-hidden="true">
      <div class="cart-head">
        <strong style="font-size:18px">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</strong>
        <div class="spacer"></div>
        <button class="btn" id="closeCartBtn">‡∏õ‡∏¥‡∏î</button>
      </div>
      <div class="cart-items" id="cartItems"></div>
      <div class="cart-foot">
        <div class="row"><span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</span><span class="total" id="cartTotal">‡∏ø0</span></div>
        <button class="btn primary" id="checkoutBtn">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô (‡πÄ‡∏î‡πÇ‡∏°)</button>
        <button class="btn" id="clearCartBtn"><span class="danger">‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</span></button>
        <small class="muted">* ‡πÄ‡∏î‡πÇ‡∏°: ‡∏õ‡∏∏‡πà‡∏°‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏Å‡∏ï‡πÄ‡∏ß‡∏¢‡πå‡∏à‡∏£‡∏¥‡∏á</small>
      </div>
    </aside>
  </main>

  <footer>¬© <span id="year"></span> ‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡πÇ‡∏° ‚Ä¢ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ HTML/CSS/JS</footer>

  <script>
    const PRODUCTS = [
      {id:'p1', name:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏¢‡∏∑‡∏î‡∏™‡∏µ‡∏î‡∏≥', price:250, category:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤', featured:true, img:'https://images.unsplash.com/photo-1541099649105-f69ad21f3246?q=80&w=1200&auto=format&fit=crop'},
      {id:'p2', name:'‡∏´‡∏°‡∏ß‡∏Å‡πÅ‡∏Å‡πä‡∏õ', price:180, category:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤', featured:false, img:'https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?q=80&w=1200&auto=format&fit=crop'},
      {id:'p3', name:'‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥‡∏™‡πÄ‡∏ï‡∏ô‡πÄ‡∏•‡∏™', price:320, category:'‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå', featured:true, img:'https://images.unsplash.com/photo-1502741509793-2bf0d015f77f?q=80&w=1200&auto=format&fit=crop'},
      {id:'p4', name:'‡∏™‡∏°‡∏∏‡∏î‡πÇ‡∏ô‡πâ‡∏ï', price:95, category:'‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô', featured:false, img:'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?q=80&w=1200&auto=format&fit=crop'},
      {id:'p5', name:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏Æ‡∏π‡πâ‡∏î', price:690, category:'‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤', featured:false, img:'https://images.unsplash.com/photo-1548883354-94bcfe321cfc?q=80&w=1200&auto=format&fit=crop'},
      {id:'p6', name:'‡∏Ç‡∏ß‡∏î‡∏ô‡πâ‡∏≥‡∏û‡∏Å‡∏û‡∏≤', price:150, category:'‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå', featured:false, img:'https://images.unsplash.com/photo-1526406915894-6c27f1d4820f?q=80&w=1200&auto=format&fit=crop'},
      {id:'p7', name:'‡∏õ‡∏≤‡∏Å‡∏Å‡∏≤‡∏´‡∏°‡∏∂‡∏Å‡πÄ‡∏à‡∏•', price:35, category:'‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô', featured:false, img:'https://images.unsplash.com/photo-1516544821473-fcf7c3eb26a6?q=80&w=1200&auto=format&fit=crop'},
      {id:'p8', name:'‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏´‡∏≠‡∏°', price:220, category:'‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå', featured:true, img:'https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop'}
    ];

    const CATEGORIES = ['‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î', ...Array.from(new Set(PRODUCTS.map(p=>p.category)))];

    const state = {
      search: '',
      category: '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
      featuredOnly: false,
      cart: loadCart()
    };

    const els = {
      grid: document.getElementById('productGrid'),
      chips: document.getElementById('categoryChips'),
      search: document.getElementById('searchInput'),
      reset: document.getElementById('resetFilters'),
      count: document.getElementById('cartCount'),
      panel: document.getElementById('cartPanel'),
      items: document.getElementById('cartItems'),
      total: document.getElementById('cartTotal'),
      openCartBtn: document.getElementById('openCartBtn'),
      closeCartBtn: document.getElementById('closeCartBtn'),
      fabCart: document.getElementById('fabCart'),
      viewFeatured: document.getElementById('viewFeatured'),
      viewAll: document.getElementById('viewAll'),
    };

    // UI Init
    document.getElementById('year').textContent = new Date().getFullYear();

    // Build category chips
    function renderChips(){
      els.chips.innerHTML='';
      CATEGORIES.forEach(cat=>{
        const b=document.createElement('button');
        b.className='chip'+(state.category===cat?' active':'');
        b.textContent=cat;
        b.onclick=()=>{state.category=cat;state.featuredOnly=false;render()};
        els.chips.appendChild(b);
      })
    }

    function formatTHB(x){
      return x.toLocaleString('th-TH',{style:'currency',currency:'THB',maximumFractionDigits:0});
    }

    function renderProducts(){
      const q=state.search.trim().toLowerCase();
      const filtered = PRODUCTS.filter(p=>{
        const matchCat = state.category==='‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' || p.category===state.category;
        const matchQ = !q || p.name.toLowerCase().includes(q);
        const matchFeat = !state.featuredOnly || p.featured;
        return matchCat && matchQ && matchFeat;
      });
      els.grid.innerHTML = filtered.map(p=>`\n        <article class="card">
          <a class="thumb" href="#" aria-label="‡∏î‡∏π ${p.name}"><img src="${p.img}" alt="${p.name}" loading="lazy"></a>
          <div class="card-body">
            <div class="title">${p.name}</div>
            <div class="muted">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: ${p.category}</div>
            <div class="price">${formatTHB(p.price)}</div>
            <div class="qty">
              <button aria-label="‡∏•‡∏î" onclick="updateQty('${p.id}',-1)">‚Äì</button>
              <span id="q_${p.id}">${state.cart[p.id]?.qty||0}</span>
              <button aria-label="‡πÄ‡∏û‡∏¥‡πà‡∏°" onclick="updateQty('${p.id}',1)">+</button>
              <div class="spacer"></div>
              <button class="btn" onclick="addToCart('${p.id}')">‡∏´‡∏¢‡∏¥‡∏ö‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
            </div>
          </div>
        </article>`).join('');
    }

    function saveCart(){
      localStorage.setItem('demo_cart', JSON.stringify(state.cart));
    }
    function loadCart(){
      try{ return JSON.parse(localStorage.getItem('demo_cart'))||{} }catch(e){ return {} }
    }

    function calcTotal(){
      let sum=0,count=0;
      Object.values(state.cart).forEach(ci=>{ sum += ci.qty * ci.price; count += ci.qty });
      els.total.textContent = formatTHB(sum);
      els.count.textContent = count;
      return {sum,count};
    }

    function renderCart(){
      const ids = Object.keys(state.cart);
      if(ids.length===0){
        els.items.innerHTML = `<div class="empty">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà ‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏î‡∏π‡∏™‡∏¥ üòä</div>`;
        calcTotal();
        return;
      }
      els.items.innerHTML = ids.map(id=>{
        const ci=state.cart[id];
        return `
          <div class="cart-item">
            <img src="${ci.img}" alt="${ci.name}">
            <div>
              <div style="font-weight:600">${ci.name}</div>
              <div class="muted">${formatTHB(ci.price)} √ó ${ci.qty}</div>
              <div class="qty" style="margin-top:6px">
                <button onclick="updateQty('${id}',-1)">‚Äì</button>
                <span id="cq_${id}">${ci.qty}</span>
                <button onclick="updateQty('${id}',1)">+</button>
                <span class="linklike" style="margin-left:12px" onclick="removeItem('${id}')">‡∏•‡∏ö</span>
              </div>
            </div>
            <div style="font-weight:700">${formatTHB(ci.qty*ci.price)}</div>
          </div>`
      }).join('');
      calcTotal();
    }

    // Cart ops (expose to window for inline handlers)
    window.addToCart = function(id){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!state.cart[id]) state.cart[id] = {id, name:p.name, price:p.price, img:p.img, qty:0};
      state.cart[id].qty++;
      saveCart();
      document.getElementById('q_'+id)?.replaceWith(document.getElementById('q_'+id).cloneNode(true)); // fix Safari text node
      document.getElementById('q_'+id).textContent = state.cart[id].qty;
      renderCart();
    }
    window.updateQty = function(id,delta){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      if(!state.cart[id]) state.cart[id] = {id, name:p.name, price:p.price, img:p.img, qty:0};
      state.cart[id].qty = Math.max(0,(state.cart[id].qty||0)+delta);
      if(state.cart[id].qty===0) delete state.cart[id];
      saveCart();
      const q1=document.getElementById('q_'+id); if(q1) q1.textContent = state.cart[id]?.qty||0;
      const q2=document.getElementById('cq_'+id); if(q2) q2.textContent = state.cart[id]?.qty||0;
      renderCart();
    }
    window.removeItem = function(id){ delete state.cart[id]; saveCart(); render(); }

    // Filters & events
    els.search.addEventListener('input', e=>{state.search=e.target.value; renderProducts();});
    els.reset.addEventListener('click', ()=>{state.search=''; els.search.value=''; state.category='‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î'; state.featuredOnly=false; render()});
    els.viewFeatured.addEventListener('click', ()=>{state.featuredOnly=true; render()});
    els.viewAll.addEventListener('click', ()=>{state.featuredOnly=false; state.category='‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î'; render()});

    // Cart panel toggles
    function openCart(){ els.panel.classList.add('open'); els.panel.setAttribute('aria-hidden','false'); }
    function closeCart(){ els.panel.classList.remove('open'); els.panel.setAttribute('aria-hidden','true'); }
    els.openCartBtn.addEventListener('click', openCart);
    els.fabCart.addEventListener('click', openCart);
    document.getElementById('closeCartBtn').addEventListener('click', closeCart);
    document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeCart(); });

    function render(){ renderChips(); renderProducts(); renderCart(); }
    render();
  </script>
</body>
</html>
